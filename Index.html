<!DOCTYPE html><html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Malla Interactiva - Farmacia UNAL</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
      background-color: #fdfdfd;
    }
    h1, h2 {
      color: #003366;
    }
    .contenedor {
      display: flex;
      overflow-x: auto;
      gap: 16px;
    }
    .semestre {
      border: 1px solid #ccc;
      padding: 10px;
      min-width: 220px;
      background: #f0f0f0;
    }
    .semestre h3 {
      text-align: center;
    }
    .materia {
      background: #ffffff;
      border: 1px solid #999;
      margin: 4px 0;
      padding: 4px;
      cursor: pointer;
    }
    .materia.bloqueada {
      background: #ffe6e6;
      color: #999;
    }
    .materia.aprobada {
      background: #cce5cc;
    }
    #tablaPapa {
      margin-top: 20px;
      border-collapse: collapse;
      width: 100%;
    }
    #tablaPapa th, #tablaPapa td {
      border: 1px solid #ccc;
      padding: 6px;
    }
  </style>
</head>
<body>
  <h1>Malla Curricular - Farmacia UNAL</h1>
  <div id="avanceContainer">Avance: <span id="avance">0%</span></div>
  <div id="malla" class="contenedor"></div>  <h2>Calculadora de PAPA</h2>
  <table id="tablaPapa">
    <thead>
      <tr>
        <th>Asignatura</th>
        <th>Créditos</th>
        <th>Nota 1</th>
        <th>Nota 2</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>
  <p>PAPA: <span id="papaCalculado">--</span></p>  <script>
    const materiasPorSemestre = [
      ["Principios de química", 3],
      ["Lab técnicas básicas en química", 3],
      ["Cálculo diferencial", 4],
      ["Biología molecular y celular", 3],
      ["Introducción a la farmacia", 2],

      ["Química orgánica 1", 3],
      ["Lab Química orgánica", 3],
      ["Mecánica y ondas para biociencias", 4],
      ["Bioestadística fundamental", 3],
      ["Libre elección", 3],

      ["Química orgánica 2", 3],
      ["Lab principios de análisis químico", 3],
      ["Bioquímica", 3],
      ["Fisicoquímica 1", 3],
      ["Química inorgánica farmacéutica", 2],

      ["Fisioanatomía", 3],
      ["Microbiología general", 3],
      ["Operaciones unitarias farmacéuticas", 2],
      ["Optativa fundamentación", 3],
      ["Optativa fundamentación", 3],
      ["Libre elección", 4],

      ["Fisiopatología", 3],
      ["Microbiología farmacéutica", 3],
      ["Farmacotecnia 1", 4],
      ["Farmacognosia y fitoquímica", 4],
      ["Libre elección", 3],

      ["Farmacología general", 3],
      ["Salud pública y farmacia", 2],
      ["Farmacotecnia 2", 4],
      ["Farmacia química 1", 4],
      ["Biofarmacia y farmacocinética", 2],
      ["Libre elección", 3],

      ["Farmacología especial", 3],
      ["Gestión de servicios farmacéuticos", 2],
      ["Análisis instrumental farmacéutico", 4],
      ["Farmacia química 2", 2],
      ["Administración farmacéutica", 2],
      ["Toxicología", 3],

      ["Farmacia hospitalaria", 9],
      ["Legislación farmacéutica", 2],
      ["Farmacia industrial", 4],
      ["Control de calidad farmacéutico", 4],
      ["Aseguramiento de calidad", 2],
      ["Optativa disciplinar", 3],
      ["Libre elección", 3],

      ["Optativa disciplinar", 3],
      ["Optativa disciplinar", 3],
      ["Libre elección", 3],
      ["Libre elección", 3],
      ["Libre elección", 3],
      ["Libre elección", 3],

      ["Trabajo de grado", 8],
      ["Optativa disciplinar", 3],
      ["Libre elección", 3],
      ["Libre elección", 3],
      ["Libre elección", 3],
      ["Libre elección", 3]
    ];

    const vistas = new Set();

    function renderizarMalla() {
      const contenedor = document.getElementById("malla");
      contenedor.innerHTML = "";

      for (let i = 0; i < 10; i++) {
        const columna = document.createElement("div");
        columna.className = "semestre";
        const titulo = document.createElement("h3");
        titulo.textContent = `Semestre ${i + 1}`;
        columna.appendChild(titulo);

        materiasPorSemestre
          .slice(i * 5, (i + 1) * 5)
          .forEach(([nombre, creditos]) => {
            const div = document.createElement("div");
            div.className = "materia";
            div.textContent = `${nombre} (${creditos} cr)`;

            if (vistas.has(nombre)) div.classList.add("aprobada");

            div.addEventListener("click", () => {
              if (vistas.has(nombre)) {
                vistas.delete(nombre);
                div.classList.remove("aprobada");
              } else {
                vistas.add(nombre);
                div.classList.add("aprobada");
              }
              actualizarAvance();
            });

            columna.appendChild(div);
          });

        contenedor.appendChild(columna);
      }

      actualizarAvance();
    }

    function actualizarAvance() {
      const total = materiasPorSemestre.length;
      const aprobadas = [...vistas].length;
      const porcentaje = Math.round((aprobadas / total) * 100);
      document.getElementById("avance").textContent = porcentaje + "%";
    }

    renderizarMalla();
  </script></body>
</html>
